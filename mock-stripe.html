<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Stripe Checkout (Test Mode)</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      background-color: #f7fafc;
      color: #1a1f36;
      line-height: 1.5;
      padding: 0;
      margin: 0;
    }
    .test-stripe {
      max-width: 500px;
      margin: 40px auto;
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
      padding: 20px;
    }
    .test-mode-badge {
      display: inline-block;
      background-color: #e9f0ff;
      color: #556cd6;
      padding: 3px 8px;
      border-radius: 16px;
      font-size: 12px;
      font-weight: 500;
    }
    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid #e6e8eb;
      padding-bottom: 16px;
      margin-bottom: 16px;
    }
    .header img {
      height: 24px;
    }
    .order-info {
      margin-bottom: 24px;
    }
    .order-info h2 {
      font-size: 16px;
      margin: 0 0 8px;
      color: #697386;
    }
    .order-details {
      background: #f8fafc;
      border-radius: 4px;
      padding: 16px;
      margin-bottom: 24px;
    }
    .product {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
    }
    .price-row {
      display: flex;
      justify-content: space-between;
      padding-top: 16px;
      margin-top: 16px;
      border-top: 1px dashed #e6e8eb;
      font-weight: 600;
    }
    .card-info {
      margin-bottom: 24px;
    }
    .card-info h2 {
      font-size: 16px;
      margin: 0 0 8px;
      color: #697386;
    }
    .form-row {
      margin-bottom: 16px;
    }
    .form-row label {
      display: block;
      margin-bottom: 8px;
      font-size: 14px;
      font-weight: 500;
    }
    .form-row input {
      width: 100%;
      padding: 12px;
      border: 1px solid #e6e8eb;
      border-radius: 4px;
      font-size: 16px;
      box-sizing: border-box;
    }
    .card-details {
      display: flex;
      gap: 16px;
    }
    .card-details > div {
      flex: 1;
    }
    .pay-button {
      background-color: #635bff;
      color: white;
      border: none;
      padding: 14px;
      border-radius: 4px;
      font-size: 16px;
      font-weight: 600;
      width: 100%;
      cursor: pointer;
      margin-top: 16px;
    }
    .pay-button:hover {
      background-color: #5851db;
    }
    .secure-badge {
      display: flex;
      align-items: center;
      justify-content: center;
      margin-top: 24px;
      color: #697386;
      font-size: 14px;
    }
    .secure-badge svg {
      margin-right: 8px;
      height: 16px;
      width: 16px;
    }
    .footer {
      text-align: center;
      margin-top: 24px;
      font-size: 14px;
      color: #697386;
    }
    .footer img {
      height: 20px;
      margin-top: 8px;
    }
  </style>
</head>
<body>
  <div class="test-stripe">
    <div class="header">
      <div>
        <span class="test-mode-badge">TEST MODE</span>
      </div>
      <img src="https://js.stripe.com/v3/fingerprinted/img/powered_by_stripe-49d2cf2838b11aa511be8b3166f9b27f.svg" alt="Powered by Stripe">
    </div>

    <div class="order-info">
      <h2>订单摘要</h2>
      <div class="order-details">
        <div class="product">
          <div>Day Progress Bar Premium</div>
          <div>$1.99</div>
        </div>
        <div class="product">
          <div>订阅周期</div>
          <div>每月</div>
        </div>
        <div class="price-row">
          <div>总计</div>
          <div>$1.99 / 月</div>
        </div>
      </div>
    </div>

    <div class="card-info">
      <h2>支付信息</h2>
      <div class="form-row">
        <label for="email">邮箱</label>
        <input type="email" id="email" placeholder="email@example.com" value="">
      </div>
      <div class="form-row">
        <label for="card">卡号</label>
        <input type="text" id="card" placeholder="4242 4242 4242 4242" value="4242 4242 4242 4242">
      </div>
      <div class="card-details">
        <div class="form-row">
          <label for="expire">过期日期</label>
          <input type="text" id="expire" placeholder="MM / YY" value="12 / 25">
        </div>
        <div class="form-row">
          <label for="cvc">CVC</label>
          <input type="text" id="cvc" placeholder="CVC" value="123">
        </div>
      </div>
    </div>

    <button id="pay-button" class="pay-button">支付 $1.99 / 月</button>

    <div class="secure-badge">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
        <path d="M13 5H12V3C12 1.3 10.7 0 9 0H7C5.3 0 4 1.3 4 3V5H3C2.4 5 2 5.4 2 6V15C2 15.6 2.4 16 3 16H13C13.6 16 14 15.6 14 15V6C14 5.4 13.6 5 13 5ZM6 3C6 2.4 6.4 2 7 2H9C9.6 2 10 2.4 10 3V5H6V3ZM12 14H4V7H12V14ZM8 11C8.6 11 9 10.6 9 10C9 9.4 8.6 9 8 9C7.4 9 7 9.4 7 10C7 10.6 7.4 11 8 11Z" fill="#697386"/>
      </svg>
      安全支付
    </div>

    <div class="footer">
      <div>Powered by</div>
      <img src="https://js.stripe.com/v3/fingerprinted/img/stripe-word-6f724a6a293132f6c497523759dbcb1a.svg" alt="Stripe">
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // 获取URL参数
      const urlParams = new URLSearchParams(window.location.search);
      const email = urlParams.get('email');
      if (email) {
        document.getElementById('email').value = email;
      }

      // 处理支付按钮点击
      document.getElementById('pay-button').addEventListener('click', async () => {
        const button = document.getElementById('pay-button');
        button.textContent = '处理中...';
        button.disabled = true;

        // 模拟支付处理延迟
        setTimeout(() => {
          // 获取成功URL参数，如果没有则默认回到订阅页面
          const successUrl = urlParams.get('success_url') || '../subscription.html?payment_success=true';
          window.location.href = successUrl;
        }, 2000);
      });
    });
  </script>
</body>
</html>